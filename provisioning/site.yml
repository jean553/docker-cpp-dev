---
- hosts: localhost
  become: true

  tasks:

    - name: install basic tools
      apt:
        name="{{ item }}"
        state=present
        update_cache=yes
      with_items:
        - vim
        - zsh
        - wget
        - git
        - curl
        - libc++-dev
        - cmake
        - astyle

    - name: add PPA for ubuntu toolchain uploads
      apt_repository: 
        repo='deb http://ppa.launchpad.net/ubuntu-toolchain-r/test/ubuntu trusty main'
        state=present

    - name: add PPA for ubuntu precise toolchain
      apt_repository: 
        repo='deb http://apt.llvm.org/precise/ llvm-toolchain-precise-3.5 main'
        state=present

    - name: install specific clang++ 3.5 and g++ 4.9 to get C++14 features
      apt:
        name="{{ item }}"
        state=present
        update_cache=yes
        allow_unauthenticated=yes
      with_items:
        - clang-3.5
        - g++-4.9

    - name: unarchive SFML 2.4.2
      unarchive:
        src: https://www.sfml-dev.org/files/SFML-2.4.2-linux-gcc-64-bit.tar.gz
        dest: /tmp/
        remote_src: True

    - name: copy libraries
      copy:
        src: /tmp/SFML-2.4.2/lib/
        dest: /usr/lib/x86_64-linux-gnu/

    - name: copy includes
      copy:
        src: /tmp/SFML-2.4.2/include/SFML
        dest: /usr/include/

    - name: Clone oh-my-zsh repo
      git:
        repo=git://github.com/robbyrussell/oh-my-zsh.git
        dest=/root/.oh-my-zsh

    - name: Create a new zsh config
      command: cp /root/.oh-my-zsh/templates/zshrc.zsh-template /root/.zshrc

    - name: creates pathogen vim directories
      file: path={{ item }} state=directory
      with_items:
       - /root/.vim/autoload
       - /root/.vim/bundle
       - /root/.vim/plugin

    - name: install pathogen
      shell: curl -LSso /root/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim

    - name: install a.vim for alternate files quickly
      get_url:
        url=http://www.vim.org/scripts/download_script.php?src_id=7218
        dest=/root/.vim/plugin/a.vim

    - name: install syntastic
      git:
        repo=https://github.com/scrooloose/syntastic.git
        dest=/root/.vim/bundle/syntastic
        clone=yes

    - name: copy the vim configuration
      copy:
        src=roles/vim/files/vimrc
        dest=/root/.vimrc

    - name: set git email for configuration
      shell: git config --global user.email "docker-cpp-dev@host.com"

    - name: set git name for configuration
      shell: git config --global user.name "docker-cpp-dev"
